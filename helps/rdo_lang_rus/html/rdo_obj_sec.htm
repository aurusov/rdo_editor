<HTML>
<HEAD>
<TITLE>Синтаксис последовательности</TITLE>
<LINK rel = "stylesheet" type = "text/css" href = "../styles.css">
</HEAD>
<BODY>
	<DIV>
		<H1>СИНТАКСИС ПОСЛЕДОВАТЕЛЬНОСТИ</H1>
		<P><B>Последовательности</B> отличаются от <A href="../html/rdo_obj_fun.htm">функций</A> тем, что выдаваемое ими значение не вычисляется на основе значений их параметров с использованием определенного алгоритма, а определяется генератором псевдослучайных чисел с соответствующим распределением либо выбирается из числа значений, заданных при описании последовательности.</P>
		<P>Описание последовательности  следует за описанием констант в <A href="../html/rdo_obj_const_fun_sec.htm">объекте символьных констант, функций и последовательностей</A> (с расширением <FONT class="syntax">.fun</FONT>) и в общем случае имеет вид:</P>
		<PRE class="syntax">$Sequence <A class="syntax" href="#sec_name">&lt;имя_последовательности&gt;</A> :
  <A class="syntax" href="#val_type">&lt;тип_значения_последовательности&gt;</A>
$Type = <A class="syntax" href="#sec_type">&lt;тип_последовательности&gt;</A>
  <A class="syntax" href="#seed_val">&lt;значение_базы_генератора&gt;</A>
$Body <A class="syntax" href="#body">&lt;тело_последовательности&gt;</A> $End</PRE>
		<DL class="syntax">
			<DT class="syntax"><A name="sec_name"></A><I>имя_последовательности</I></DT>
			<DD class="syntax">Имя последовательности представляет собой <A href="../html/rdo_lex_div_names.htm">простое имя</A>. Имена должны быть различными для всех последовательностей и не должны совпадать с ранее определенными именами.</DD>
			<DT class="syntax"><A name="val_type"></A><I>тип_значения_последовательности</I></DT>
			<DD class="syntax">Тип значения последовательности - это один из возможных в языке <A href="../html/rdo_base_types.htm">типов данных</A>. При описании типов значений последовательности возможны ссылки на <A href="../html/rdo_base_res_types.htm#param_type">типы параметров ресурсов</A> и <A href="../html/rdo_obj_const_fun_sec.htm#const_type">типы символьных констант</A>.</DD>
			<DT class="syntax"><A name="sec_type"></A><I>тип_последовательности</I></DT>
			<DD class="syntax">В данной версии языка определены последовательности следующих типов:
				<TABLE class="visible" cols="2">
					<TR valign="top">
						<TH align="left" width="20%">Тип последовательности</TH>
						<TH align="left" width="80%">Описание</TH>
					</TR>
					<TR valign="top">
						<TD class="visible" NOWRAP width="20%"><FONT class="syntax">uniform</FONT></TD>
						<TD class="visible" width="80%">Последовательность псевдослучайных чисел, распределенных по равномерному закону</TD>
					</TR>
					<TR valign="top">
						<TD class="visible" NOWRAP width="20%"><FONT class="syntax">exponential</FONT></TD>
						<TD class="visible" width="80%">Последовательность псевдослучайных чисел, распределенных по экспоненциальному закону</TD>
					</TR>
					<TR valign="top">
						<TD class="visible" NOWRAP width="20%"><FONT class="syntax">normal</FONT></TD>
						<TD class="visible" width="80%">Последовательность псевдослучайных чисел, распределенных по нормальному закону</TD>
					</TR>
					<TR valign="top">
						<TD class="visible" NOWRAP width="20%"><FONT class="syntax">by_hist</FONT></TD>
						<TD class="visible" width="80%">Последовательность псевдослучайных чисел, распределенных по закону, заданному гистограммой</TD>
					</TR>
					<TR valign="top">
						<TD class="visible" NOWRAP width="20%"><FONT class="syntax">enumerative</FONT></TD>
						<TD class="visible" width="80%">Последовательность значений, перечисленных непосредственно в теле последовательности</TD>
					</TR>
				</TABLE>
			</DD>
			<DT class="syntax"><A name="seed_val"></A><I>значение_базы_генератора</I></DT>
			<DD class="syntax">Значение базы генератора представляет собой целое число в диапазоне [-2147483647..2147483647]. Это значение может отсутствовать, в этом случае будет использовано значение, определенное в языке. Значения баз генераторов могут быть изменены в <A href="../html/rdo_obj_smr.htm#seed_new">объекте прогона</A>.</DD>
			<BR>
			<P><BR><A name="call"></A><B>Обращение к последовательности</B> имеет следующий формат:</P>
			<PRE class="syntax">&lt;имя_последовательности&gt; [ ( <A class="syntax" href="#call_expr">&lt;выражение&gt;</A> { , &lt;выражение&gt; } ) ]</PRE>
			<DL class="syntax">
				<DT class="syntax"><A name="call_expr"></A><I>выражение</I></DT>
				<DD class="syntax">После имени последовательности в скобках через запятую записываются <A href="../html/rdo_base_equations.htm#arith_expr">арифметические выражения</A> для вычисления значений параметров. Порядок следования выражений, их количество и тип определяются параметрами последовательности. Количество и тип параметров зависят от типа последовательности и типа значений последовательности. Ниже приведена таблица допустимых типов значений последовательности и типов параметров для различных типов последовательности:
					<TABLE class="visible" cols="4">
						<TR valign="top">
							<TH align="left" width="25%">Тип последовательности</TH>
							<TH align="left" width="25%">Тип значения последовательности</TH>
							<TH align="left" width="25%">Тип первого параметра</TH>
							<TH align="left" width="25%">Тип второго параметра</TH>
						</TR>
						<TR valign="top">
							<TD class="visible" NOWRAP width="25%"><FONT class="syntax">uniform</FONT></TD>
							<TD class="visible" width="25%">Целый<BR>Вещественный</TD>
							<TD class="visible" width="25%">Целый<BR>Вещественный</TD>
							<TD class="visible" width="25%">Целый<BR>Вещественный</TD>
						</TR>
						<TR valign="top">
							<TD class="visible" NOWRAP width="25%"><FONT class="syntax">exponential</FONT></TD>
							<TD class="visible" width="25%">Целый<BR>Вещественный</TD>
							<TD class="visible" width="25%">Вещественный<BR>Вещественный</TD>
							<TD class="visible" width="25%" align="center">&mdash;<BR>&mdash;</TD>
						</TR>
						<TR valign="top">
							<TD class="visible" NOWRAP width="25%"><FONT class="syntax">normal</FONT></TD>
							<TD class="visible" width="25%">Целый<BR>Вещественный</TD>
							<TD class="visible" width="25%">Вещественный<BR>Вещественный</TD>
							<TD class="visible" width="25%">Вещественный<BR>Вещественный</TD>
						</TR>
						<TR valign="top">
							<TD class="visible" NOWRAP width="25%"><FONT class="syntax">by_hist</FONT></TD>
							<TD class="visible" width="25%">Целый<BR>Вещественный<BR>Перечислимый</TD>
							<TD class="visible" width="25%" align="center">&mdash;<BR>&mdash;<BR>&mdash;</TD>
							<TD class="visible" width="25%" align="center">&mdash;<BR>&mdash;<BR>&mdash;</TD>
						</TR>
						<TR valign="top">
							<TD class="visible" NOWRAP width="25%"><FONT class="syntax">enumerative</FONT></TD>
							<TD class="visible" width="25%">Целый<BR>Вещественный<BR>Перечислимый</TD>
							<TD class="visible" width="25%" align="center">&mdash;<BR>&mdash;<BR>&mdash;</TD>
							<TD class="visible" width="25%" align="center">&mdash;<BR>&mdash;<BR>&mdash;</TD>
						</TR>
					</TABLE>
					<P>Как видно из таблицы, последовательности типа <FONT class="syntax">uniform</FONT>, <FONT class="syntax">exponential</FONT> и <FONT class="syntax">normal</FONT> не могут иметь значения перечислимого типа. Последовательности типа <FONT class="syntax">uniform</FONT> и <FONT class="syntax">normal</FONT> имеют два параметра, последовательности типа <FONT class="syntax">exponential</FONT> - один параметр, последовательности типа <FONT class="syntax">by_hist</FONT> и <FONT class="syntax">enumerative</FONT> не имеют параметров (при обращении к последовательности без параметров скобки после имени последовательности не указывают). Для задания значения параметра вещественного типа можно пользоваться арифметическим выражением целого типа.</P>
					<P>Первый параметр последовательности типа <FONT class="syntax">uniform</FONT> есть нижняя граница диапазона распределения, второй - верхняя граница. Единственный параметр последовательности типа <FONT class="syntax">exponential</FONT> представляет собой среднее значение экспоненциального распределения. Первый параметр последовательности типа <FONT class="syntax">normal</FONT> есть среднее значение, а второй - дисперсия нормального распределения.<BR><BR></P>
				</DD>
			</DL>
			<DT class="syntax"><A name="body"></A><I>тело_последовательности</I></DT>
			<DD class="syntax">Синтаксис тела последовательности зависит от типа последовательности.
				<P>Последовательности типа <FONT class="syntax">uniform</FONT>, <FONT class="syntax">normal</FONT> и <FONT class="syntax">exponential</FONT> не имеют тела.</P>
				<P>Тело последовательности типа <FONT class="syntax">by_hist</FONT> имеет следующий формат:</P>
				<PRE class="syntax"><A class="syntax" href="#range_limit">&lt;границы_диапазона&gt;</A> <A class="syntax" href="#rel_freq">&lt;относительная_частота&gt;</A>
{ &lt;границы_диапазона&gt; &lt;относительная_частота&gt; }</PRE>
				<DL class="syntax">
					<DT class="syntax"><A name="range_limit"></A><I>границы_диапазона</I></DT>
					<DD class="syntax">Для целых и вещественных последовательностей границы диапазона указывают целыми либо вещественными <A href="../html/rdo_lex_div_numeric_const.htm">численными константами</A>, причем нижняя граница диапазона (за исключением первого диапазона) должна быть равна верхней границе предыдущего диапазона. Для перечислимых последовательностей задают не диапазон, а имя значения перечислимого типа.</DD>
					<DT class="syntax"><A name="rel_freq"></A><I>относительная_частота</I></DT>
					<DD class="syntax">Относительную частоту задают вещественной <A href="../html/rdo_lex_div_numeric_const.htm">численной константой</A>, она обозначает относительную частоту попадания значений последовательности в заданный интервал (относительную частоту появления заданного значения для перечислимых последовательностей). Сумма относительных частот для всех интервалов гистограммы не обязательно должна быть равна 1. Использование для задания границ диапазона и относительных частот символьных констант и выражений не допускается.</DD>
				</DL>
				<P>Тело последовательности типа <FONT class="syntax">enumerative</FONT> имеет следующий формат:</P>
				<PRE class="syntax"><A class="syntax" href="#sec_val">&lt;значение_последовательности&gt;</A> { &lt;значение_последовательности&gt; }</PRE>
				<DL class="syntax">
					<DT class="syntax"><A name="sec_val"></A><I>значение_последовательности</I></DT>
					<DD class="syntax">Значение последовательности задают целой либо вещественной <A href="../html/rdo_lex_div_numeric_const.htm">численной константой</A> или именем значения в соответствии с типом значений последовательности. Максимальное количество значений в данной версии равно 1024.</DD>
				</DL>
			</DD>
		</DL>
		<H4>Примеры</H4>
		<PRE class="samples">$Sequence Последовательность_1 : real
$Type = uniform 11111111
$End

$Sequence Последовательность_2 : real [0.0..10.0]
$Type = exponential 2147483647
$End

$Sequence Последовательность_3 : real [0.0..10.0]
$Type = normal
$End

$Sequence Последовательность_4 : real
$Type = by_hist 11111
$Body
  1.0   2.0   0.0423
  2.0   4.0   0.4239
  4.0   5.75  0.2756
  5.75  10.0  0.3072
$End

$Sequence Последовательность_5 : integer [0..30]
$Type = by_hist 11111
$Body
  0   2   0.11
  2   5   0.12
  5   6   0.17
  6   11  0.20
  11  20  0.34
  20  30  0.06
$End

$Sequence Последовательность_6 : such_as Константа_9
$Type = by_hist 11111
$Body
  Значение_1  0.11
  Значение_2  0.12
  Значение_3  0.17
  Значение_4  0.20
  Значение_5  0.34
$End

$Sequence Последовательность_7 : real
$Type = enumerative
$Body
  0.5253   0.7363   0.1642   0.2543   0.9126
$End

$Sequence Последовательность_8 : integer
$Type = enumerative
$Body
  42   745   78   745   82   94   19   31
$End

$Sequence Последовательность_9 : such_as Константа_9
$Type = enumerative
$Body
  Значение_2  Значение_3  Значение_5  Значение_2  Значение_3
  Значение_4  Значение_1  Значение_4  Значение_1  Значение_5
$End</PRE>
		<P>Вызовы последовательностей:</P>
		<PRE class="samples">Последовательность_1(1.0, 1 + 5 / 2.0)
Последовательность_2(2.5)
Последовательность_3(2.0, 1 / 5.0)
Последовательность_5
Последовательность_8</PRE>
		<H4>Примечания</H4>
		<P class="remarks">Вычисление значений последовательности происходит следующим образом. Сначала вычисляются значения параметров, если параметры имеются.</P>
		<P class="remarks">Значения последовательности типа <FONT class="syntax">uniform</FONT> вычисляются на основе генератора псевдослучайных чисел как равномерно распределенные на заданном диапазоне целые либо вещественные (в зависимости от типа значения последовательности) числа.</P>
		<P class="remarks">Значения последовательности типа <FONT class="syntax">normal</FONT> вычисляются на основе генератора псевдослучайных чисел как нормально распределенные вещественные числа с заданным средним и дисперсией. Если тип значения последовательности целый, то целое значение получается из вещественного округлением к ближайшему целому.</P>
		<P class="remarks">Значения последовательности типа <FONT class="syntax">exponential</FONT> вычисляются на основе генератора псевдослучайных чисел как экспоненциально распределенные вещественные числа с заданным средним. Если тип значения последовательности целый, то целое значение получается из вещественного отбрасыванием дробной части.</P>
		<P class="remarks">Значение последовательности типа <FONT class="syntax">by_hist</FONT> вычисляется следующим образом. В начале в соответствии с относительными частотами определяется интервал гистограммы, затем конкретное значение получается как равномерно распределенное на этом интервале число. Для последовательностей с перечислимыми значениями по относительной частоте сразу определяется значение.</P>
		<P class="remarks">Значения последовательности типа <FONT class="syntax">enumerative</FONT> заданы непосредственно в теле. Эти значения выдаются при вызовах последовательности в порядке их следования в описании. При первом обращении выдается первое значение, при втором - второе и так далее. После последнего значения выдается первое.</P>
		<P class="remarks">После определения описанным способом значения последовательности любого типа в случае, если задан допустимый диапазон значений последовательности, производится проверка попадания полученного значения в этот диапазон. Если значение меньше нижней границы, то оно становится равным нижней границе, если больше верхней, то равным верхней границе.</P>
		<P class="remarks">Все последовательности порождают независимые потоки псевдослучайных чисел. Изменением значений начальных баз генераторов могут быть получены различные реализации последовательности.</P>
		<H4>См. также</H4>
		<P><A href="../html/rdo_base_types.htm">Типы данных. Соответствие типов</A></P>
		<P><A href="../html/rdo_obj_const_fun_sec.htm">Описание символьных констант, функций и последовательностей</A></P>
		<P><A href="../html/rdo_obj_fun.htm">Синтаксис функции</A></P>
	</DIV>
	<A name="prev_section;../html/rdo_obj_intro.htm;Конструкции языка">
	<A name="next_section;../html/rdo_res_intro.htm;Результаты моделирования">
	<A name="section_top;../html/rdo_obj_const_fun_sec.htm;Описание символьных констант, функций и последовательностей">
	<A name="section;Описание симв. конст., ф-ий и послед-тей;">
	<A name="prev_topic;../html/rdo_obj_fun.htm;Синтаксис функции">
	<A name="next_topic;../html/rdo_obj_pat.htm;Описание образцов">
	<A name="title;Справка по языку РДО"><BR><SCRIPT src="../navbar.js"></SCRIPT>
</BODY>
</HTML>
