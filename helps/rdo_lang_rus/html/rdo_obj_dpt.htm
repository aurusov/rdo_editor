<HTML>
<HEAD>
<TITLE>Описание точек принятия решений</TITLE>
<LINK rel = "stylesheet" type = "text/css" href = "../styles.css">
</HEAD>
<BODY>
	<DIV>
		<H1>ОПИСАНИЕ ТОЧЕК ПРИНЯТИЯ РЕШЕНИЙ</H1>
		<P><B>Точки принятия решений</B> в РДО-языке описывают способы использования <A href="../html/rdo_obj_pat.htm">образцов</A> для моделирования процесса и принятия решений на уровне событий, их описывают в отдельном <A href="../html/rdo_terms.htm#object">объекте</A> (с расширением <FONT class="syntax">.dpt</FONT>). В РДО-модели может быть либо <A href="../html/rdo_obj_opr.htm">объект операций</A>, либо объект точек принятия решений. Их совместное использование не допускается.</P>
		<P>Объект точек принятия решений имеет следующий формат:</P>
		<PRE class="syntax"><A class="syntax" href="#dpt_desc">&lt;описание_точки_принятия_решений&gt;</A> | <A class="syntax" href="#act_block">&lt;блок_активностей&gt;</A>
{ &lt;описание_точки_принятия_решений&gt; | &lt;блок_активностей&gt; }</PRE>
		<DL class="syntax">
			<DT class="syntax"><A name="dpt_desc"></A><I>описание_точки_принятия_решений</I></DT>
			<DD class="syntax">Описание каждой точки принятия решений имеет следующий формат:
				<PRE class="syntax">$Decision_point <A class="syntax" href="#dpt_name">&lt;имя_точки&gt;</A> : <A class="syntax" href="#dpt_type">&lt;тип_точки&gt;</A> [ <A class="syntax" href="#trace_feat">&lt;признак_трассировки&gt;</A> ]
$Condition <A class="syntax" href="#init_cond">&lt;условие_активизации_точки&gt;</A>
[ $Term_condition <A class="syntax" href="#term_cond">&lt;терминальное_условие&gt;</A>
  $Evaluate_by <A class="syntax" href="#rest_eval">&lt;оценка_стоимости_оставшегося_пути_на_графе&gt;</A>
  $Compare_tops = <A class="syntax" href="#comp_feat">&lt;признак_сравнения_вершин&gt;</A> ]
<A class="syntax" href="#dpt_act_block">&lt;блок_активностей&gt;</A></PRE>
				<DL class="syntax">
					<DT class="syntax"><A name="dpt_name"></A><I>имя_точки</I></DT>
					<DD class="syntax">Имя точки принятия решений представляет собой <A href="../html/rdo_lex_div_names.htm">простое имя</A>. Имена должны быть различными для всех точек принятия решений и не должны совпадать с ранее определенными именами.</DD>
					<DT class="syntax"><A name="dpt_type"></A><I>тип_точки</I></DT>
					<DD class="syntax">В данной версии РДО-языка имеются два типа точек принятия решений:
						<TABLE class="visible" style="width: 85%">
							<TR valign="top">
								<TH align="left" width="20%">Тип точки</TH>
								<TH align="left" width="80%">Описание</TH>
							</TR>
							<TR valign="top">
								<TD class="visible" NOWRAP width="20%"><FONT class="syntax">some</FONT></TD>
								<TD class="visible" width="80%">Просмотреть все активности данной точки, проверить предусловия, выполнить ту активность, предусловия которой удовлетворяются</TD>
							</TR>
							<TR valign="top">
								<TD class="visible" NOWRAP width="20%"><FONT class="syntax">search</FONT></TD>
								<TD class="visible" width="80%">Реализовать поиск на графе состояний</TD>
							</TR>
						</TABLE>
					</DD>
					<DT class="syntax"><A name="trace_feat"></A><A name="trace_feat_no"><I>признак_трассировки</I></DT>
					<DD class="syntax">Признак трассировки может быть одним из следующих:
						<TABLE class="visible" style="width: 85%">
							<TR valign="top">
								<TH align="left" width="20%">Значение</TH>
								<TH align="left" width="80%">Описание</TH>
							</TR>
							<TR valign="top">
								<TD class="visible" NOWRAP width="20%"><FONT class="syntax">no_trace</FONT></TD>
								<TD class="visible" width="80%">Не производить трассировку точки</TD>
							</TR>
							<TR valign="top">
								<TD class="visible" NOWRAP width="20%"><FONT class="syntax">trace_stat</FONT></TD>
								<TD class="visible" width="80%">Выдавать в объект трассировки только статистическую информацию по процессу поиска на графе</TD>
							</TR>
							<TR valign="top">
								<TD class="visible" NOWRAP width="20%"><FONT class="syntax">trace_tops</FONT></TD>
								<TD class="visible" width="80%">Выдавать в объект трассировки статистическую информацию по процессу поиска и информацию о всех вершинах графа поиска</TD>
							</TR>
							<TR valign="top">
								<TD class="visible" NOWRAP width="20%"><FONT class="syntax">trace_all</FONT></TD>
								<TD class="visible" width="80%">Выдавать в объект трассировки статистическую информацию по процессу поиска, информацию о всех вершинах графа поиска и для каждой вершины новое состояние всех ресурсов, изменивших свое состояние при применении правила, породившего эту вершину</TD>
							</TR>
						</TABLE>
						<P>Значением признака трассировки по умолчанию является значение <FONT class="syntax">no_trace</FONT>. Остальные значения признака трассировки имеют смысл только для точек типа <FONT class="syntax">search</FONT>.</P>
					</DD>
					<DT class="syntax"><A name="init_cond"></A><I>условие_активизации_точки</I></DT>
					<DD class="syntax">Условие активизации точки есть <A href="../html/rdo_base_equations.htm#log_expr">логическое выражение</A>. Если при некотором событии состояние системы удовлетворяет этому выражению, активизируется <A href="#alg">алгоритм обработки точки принятия решений</A>.</DD>
					<DT><BR>Терминальное условие поиска, эвристическая оценочная функция стоимости оставшегося пути до целевой вершины и признак сравнения вершин записывается только для точек типа <FONT class="syntax">search</FONT>.</DT>
					<DT class="syntax"><A name="term_cond"></A><I>терминальное_условие</I></DT>
					<DD class="syntax">Терминальное условие поиска - это <A href="../html/rdo_base_equations.htm#log_expr">логическое выражение</A>. Когда алгоритм поиска на графе выбирает очередную вершину для раскрытия, проверяется, не удовлетворяет ли состояние системы, соответствующее этой вершине, терминальному условию. Если удовлетворяет, то это означает, что решение найдено и процесс поиска прекращается.</DD>
					<DT class="syntax"><A name="rest_eval"></A><I>оценка_стоимости_оставшегося_пути_на_графе</I></DT>
					<DD class="syntax">Эвристическая оценочная функция стоимости оставшегося пути до целевой вершины задается <A href="../html/rdo_base_equations.htm#arith_expr">арифметическим выражением</A> целого либо вещественного типа.</DD>
					<DT class="syntax"><A name="comp_feat"></A><I>признак_сравнения_вершин</I></DT>
					<DD class="syntax">Признак сравнения вершин задается зарезервированным словом <FONT class="syntax">YES</FONT>, если необходимо сравнивать каждую вновь порожденную в процессе поиска вершину с вершинами, уже находящимися в графе, и зарезервированным словом <FONT class="syntax">NO</FONT>, если сравнивать не нужно. Необходимость в сравнении вершин зависит от конкретной задачи, решаемой поиском на графе.</DD>
					<DT class="syntax"><A name="dpt_act_block"></A><A name="dpt_act_block_end"></A><I>блок_активностей</I></DT>
					<DD class="syntax">Блок активностей имеет следующий формат:
						<PRE class="syntax">$Activities <A class="syntax" href="#dpt_act_desc">&lt;описание_активности&gt;</A> { &lt;описание_активности&gt; }
$End</PRE>
						<DL class="syntax">
							<DT class="syntax"><A name="dpt_act_desc"></A><I>описание_активности</I></DT>
							<DD class="syntax">Описание каждой активности похоже на <A href="../html/rdo_obj_opr.htm">описание операции</A> и имеет следующий формат:
								<PRE class="syntax"><A class="syntax" href="#dpt_act_name">&lt;имя_активности&gt;</A> : <A class="syntax" href="#dpt_act_pat">&lt;имя_образца&gt;</A> [ <A class="syntax" href="#dpt_act_key">&lt;код_клавиши&gt;</A> ]
[ <A class="syntax" href="#dpt_act_params">&lt;значения_параметров_образца&gt;</A> ]
[ (value before | value after) <A class="syntax" href="#dpt_act_cost">&lt;стоимость_применения_правила&gt;</A> ]</PRE>
								<DL class="syntax">
									<DT class="syntax"><A name="dpt_act_name"></A><I>имя_активности</I></DT>
									<DD class="syntax">Имя активности - это любое <A href="../html/rdo_lex_div_names.htm">допустимое в языке имя</A>, не совпадающее с ранее определенными именами.</DD>
									<DT class="syntax"><A name="dpt_act_pat"></A><I>имя_образца</I></DT>
									<DD class="syntax">Имя образца - это имя одного из образцов, заданных в <A href="../html/rdo_obj_pat.htm">объекте образцов</A>.</DD>
									<DT class="syntax"><A name="dpt_act_key"></A><I>код_клавиши</I></DT>
									<DD class="syntax">Код клавиши указывают для образцов типа <A href="../html/rdo_obj_pat.htm#pat_type">клавиатурная операция</A> (<FONT class="syntax">keyboard</FONT>).</DD>
									<DT class="syntax"><A name="dpt_act_params"></A><I>значения_параметров_образца</I></DT>
									<DD class="syntax">Значения параметров образца записываются таким же образом, как и для <A href="../html/rdo_obj_opr.htm#param_val">операций</A>.</DD>
									<DT class="syntax"><A name="dpt_act_cost"></A><I>стоимость_применения_правила</I></DT>
									<DD class="syntax">Стоимость применения правил есть <A href="../html/rdo_base_equations.htm#arith_expr">арифметическое выражение</A> целого или вещественного типа, записанное в контексте данного образца, то есть в этом выражении можно использовать <A href="../html/rdo_obj_pat.htm#param_desc">параметры образца</A> и параметры <A href="../html/rdo_obj_pat.htm#rel_res_desc">релевантных ресурсов</A> образца. Стоимость применения правила вместе с зарезервированными словами <FONT class="syntax">value&nbsp;before</FONT> или <FONT class="syntax">value&nbsp;after</FONT> указывают только для активностей, входящих в точку принятия решений типа <FONT class="syntax">search</FONT>. Зарезервированные слова <FONT class="syntax">value&nbsp;before</FONT> обозначают, что значение выражения должно быть вычислено до применения правила, то есть при состоянии системы перед преобразованием состояния в соответствии с правилом. Зарезервированные слова <FONT class="syntax">value&nbsp;after</FONT> обозначают, что значение выражения должно быть вычислено после применения правила, то есть с измененным состоянием системы.
										<P>При написании блока активностей необходимо иметь ввиду следующее. Для точки принятия решений типа <FONT class="syntax">search</FONT> допустимо использование только образцов типа <FONT class="syntax">rule</FONT>, при выполнении которых ресурсы не создаются и не уничтожаются, то есть <A href="../html/rdo_obj_pat.htm#conv_stat">статусы конверторов</A> релевантных ресурсов которых не содержат <FONT class="syntax">Create</FONT> или <FONT class="syntax">Erase</FONT>. Использование образцов других типов не допускается. Для точки принятия решений типа <FONT class="syntax">some</FONT> допустимо использование только образцов типа <FONT class="syntax">rule</FONT> и <FONT class="syntax">operation</FONT>. В свободных блоках активностей (блоках активностей, не входящих в состав точек принятия решений), допускается использование только образцов типа <FONT class="syntax">keyboard</FONT> и <FONT class="syntax">irregular_event</FONT>.</P>
									</DD>
								</DL>
							</DD>
						</DL>
					</DD>
				</DL>
			</DD>
		</DL>
		<H4>Примеры</H4>
		<PRE class="samples">$Decision_point Точка_1 : search trace_stat
$Condition
  Ресурс_1.Параметр_1=0 and Exist(Тип_1 : Тип_1.Параметр_3 = Значение_2) and
  Ресурс_5.Параметр_7 &lt;&gt; 0
$Term_condition Ресурс_1.Параметр_1 = 1
$Evaluate_by 0
$Compare_tops = NO
$Activities
  Правило_1 : Образец_12   6.25  *       value after Ресурс_1.Параметр_4
  Правило_2 : Образец_8    Значение_5    value after Ресурс_1.Параметр_4
  Правило_3 : Образец_9    value before  рел_Ресурс_2.Параметр_4 *
                             IAbs(рел_Ресурс_2.Параметр_5) * 2
$End

$Activities
  Нерегулярное_событие_1  : Образец_3  10  20  *
  Клавиатурная_операция_1 : Образец_6  'LEFT'  100
$End

$Decision_point Точка_2 : some
$Condition NoCheck
$Activities
  Операция_1 : Образец_14   25  *
  Операция_2 : Образец_15   Значение_2
  Операция_3 : Образец_16
$End</PRE>
		<H4>Примечания</H4>
		<P class="remarks">Образцы не имеют самостоятельного значения и должны быть использованы при описании активностей в объекте точек принятия решений. Имитатор в процессе моделирования обрабатывает именно точки принятия решений, а не образцы, поэтому если какой-либо образец был описан в объекте образцов, но ни разу не упоминался в объекте точек принятия решений, то он никогда не будет использован. Точки принятия решений определяют правила использования образцов в различных ситуациях.</P>
		<P><BR><A name="act_block"></A><A name="alg"></A>Алгоритм обработки точек принятия решений следующий. При каждом событии после изменения состояния системы и сбора статистической информации проверяются <A href="#init_cond">предусловия точек принятия решений</A> в порядке их следования в объекте описания точек. При нахождении точки принятия решений, предусловие которой выполняется, запускается алгоритм обработки точки.</P>
		<P>Для точек типа <FONT class="syntax">some</FONT> алгоритм просматривает все <A href="#dpt_act_block">активности</A> данной точки. Найдя активность, <A href="../html/rdo_obj_pat.htm#init_cond">предусловия</A> которой выполняются, он планирует событие начала соответствующего действия или событие выполнения правила, после чего обработка этой точки и других точек завершается. Если же не найдено ни одной активности, для которой выполнены предусловия, анализируется следующая точка принятия решений.</P>
		<P>Для точек типа <FONT class="syntax">search</FONT> запускается алгоритм поиска решения на графе состояний в локальной продукционной системе. Базой данных этой локальной продукционной системы являются все ресурсы, присутствующие в данный момент в моделируемой системе, базой знаний - продукционные правила, записанные в <A href="#dpt_act_block">блоке активностей</A> данной точки. Решением, получаемым с помощью поиска на графе, является путь на графе. Путь представляет собой последовательность правил, которые необходимо применить для преобразования начального состояния системы в целевое. Найденная последовательность правил затем применяется к состоянию системы, изменяя его в соответствии с полученным решением. Это измененное состояние системы и является результатом принятия решения. Процесс имитации продолжается далее от нового состояния, полученного в результате принятия решения. Обработка других точек принятия решений завершается. Если же в процессе поиска решение не найдено, обрабатывается следующая точка принятия решений.</P>
		<P>Активности, входящие в свободные блоки активностей, обрабатываются в соответствии с другими алгоритмами, похожими на алгоритмы обработки операций.</P>
		<H4>См. также</H4>
		<P><A href="../html/rdo_base_resources.htm">Описание ресурсов</A></P>
		<P><A href="../html/rdo_obj_pat.htm">Описание образцов</A></P>
		<P><A href="../html/rdo_obj_opr.htm">Описание операций</A></P>
	</DIV>
	<A name="prev_section;../html/rdo_obj_const_fun_sec.htm;Описание символьных констант, функций и последовательностей">
	<A name="next_section;../html/rdo_res_intro.htm;Результаты моделирования">
	<A name="section_top;../html/rdo_obj_intro.htm;Конструкции языка">
	<A name="section;Конструкции языка;">
	<A name="prev_topic;../html/rdo_obj_opr.htm;Описание операций">
	<A name="next_topic;../html/rdo_obj_frm.htm;Описание кадров">
	<A name="title;Справка по языку РДО"><BR><SCRIPT src="../navbar.js"></SCRIPT>
</BODY>
</HTML>